# 路径配置
paths:
  base_dir: "~/NovelVideos"
  novel_source: "~/Documents/Novels"
  reference_audio: "./assets/ref_audio/ref.m4a"
  output_template: "chapter_{chapter:02d}"

# TTS配置
tts:
  engine: "indexTTS"
  python_path: "/usr/bin/python3"
  indexTTS_path: "~/indexTTS"
  voice_model: "default"
  sample_rate: 24000
  # IndexTTS2 API配置
  indextts2:
    api_url: "http://localhost:7860"
    timeout_seconds: 300
    max_retries: 3

# 工作流配置
workflow:
  max_concurrent: 2
  retry_attempts: 3
  cleanup_temp: true

# 图片生成配置
image:
  engine: "drawthings"  # 可选: drawthings, stable_diffusion, dall_e
  width: 512            # 调整为更适合手机观看的尺寸
  height: 896           # 调整为更适合手机观看的尺寸
  steps: 30
  cfg_scale: 7.5
  style_preset: "suspense_horror"  # 悬疑惊悚风格
  negative_prompt: "low quality, blurry, distorted, bright lighting, cheerful atmosphere"

  # DrawThings 配置
  drawthings_model: "dreamshaper_8.safetensors"
  drawthings_scheduler: "DPM++ 2M Karras"
  api_url: "http://localhost:7861"

# 视频处理配置
video:
  resolution:
    width: 1080
    height: 1920      # 竖屏视频，适合手机观看
  frame_rate: 30
  audio_sample_rate: 44100
  default_image_duration: 5.0  # 默认图片显示时长(秒)

  # 特效配置
  effects:
    fade_in_duration: 0.5
    fade_out_duration: 0.5
    transition_duration: 0.5
    ken_burns_enabled: true
    ken_burns_zoom: 1.1

  # 字幕配置
  subtitle:
    font_size: 48
    font_color: "#FFFFFF"
    background_color: "#00000080"
    position: "bottom"  # top, center, bottom
    margin_bottom: 100

  # 导出配置
  export:
    format: "mp4"
    codec: "h264"
    bitrate: "10M"
    preset: "medium"

# 字幕配置
subtitle:
  # 生成方式: auto, aegisub, static
  generator: "aegisub"

  # 字幕样式
  style: "Default"
  font_name: "Microsoft YaHei"
  font_size: 48
  primary_color: "&H00FFFFFF"    # 白色
  secondary_color: "&H0000FFFF"  # 黄色
  outline_color: "&H00000000"    # 黑色
  back_color: "&H80000000"       # 半透明黑色

  # 字体样式
  bold: true
  italic: false
  underline: false

  # 对齐和边距
  alignment: 2  # 1-9, 2=底部居中
  margin_l: 20
  margin_r: 20
  margin_v: 20

  # 轮廓和阴影
  outline: 2.0
  shadow: 1.0

  # 时间轴配置
  max_chars_per_line: 40
  min_display_time: 2.0  # 最短显示时间(秒)
  max_display_time: 8.0  # 最长显示时间(秒)
  line_interval: 0.1     # 行间隔时间(秒)

  # Aegisub配置
  aegisub_path: "/Applications/Aegisub.app"
  script_path: "./pkg/tools/aegisub/aegisub_subtitle_gen.sh"
  use_automation: true

# Ollama配置
ollama:
  api_url: "http://localhost:11434"
  model: "llama3:8b"
  timeout_seconds: 120
  max_tokens: 2048
  temperature: 0.7

# DrawThings配置
drawthings:
  api_url: "http://localhost:7861"
  timeout_seconds: 300
  width: 512
  height: 896
  steps: 30
  cfg_scale: 7.0
  scheduler: "DPM++ 2M Karras"
  negative_prompt: "low quality, blurry, distorted, bright lighting, cheerful atmosphere"

# IndexTTS2配置
indextts2:
  api_url: "http://localhost:7860"
  timeout_seconds: 300
  max_retries: 3
  voice_model: "default"
  sample_rate: 24000